"use strict";(self["webpackChunkschool_management_system"]=self["webpackChunkschool_management_system"]||[]).push([[154],{6143:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.userList}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[t("el-form-item",{attrs:{label:"教师编号"}},[t("span",[e._v(e._s(a.row.t_id))])]),t("el-form-item",{attrs:{label:"教师姓名"}},[t("span",[e._v(e._s(a.row.t_name))])]),t("el-form-item",{attrs:{label:"教授课程"}},[t("span",[e._v(e._s(a.row.course))])]),t("el-form-item",{attrs:{label:"入职时间",width:"180"}},[t("span",[e._v(e._s(a.row.t_date))])]),t("el-form-item",{attrs:{label:"家庭地址"}},[t("span",[e._v(e._s(a.row.t_address))])]),t("el-form-item",{attrs:{label:"信息说明",width:"180"}},[t("span",[e._v(e._s(a.row.t_title))])])],1)]}}])}),t("el-table-column",{attrs:{prop:"Id",label:"ID",width:"180"}}),t("el-table-column",{attrs:{prop:"t_id",label:"教师编号",width:"180"}}),t("el-table-column",{attrs:{prop:"t_name",label:"教师姓名",width:"180"}}),t("el-table-column",{attrs:{prop:"course",sortable:"",label:"课程",width:"100",filters:e.selectCourse,"filter-method":e.filterHandler,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.value===e.selectCourse[0].text?t("el-tag",[e._v(e._s(a.row.course))]):a.row.course===e.selectCourse[1].text?t("el-tag",{attrs:{type:"success"}},[e._v(e._s(a.row.course))]):a.row.course===e.selectCourse[2].text?t("el-tag",{attrs:{type:"warning"}},[e._v(e._s(a.row.course))]):t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(a.row.course))])]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(a.row.t_id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.pageInfo.pageIndex,"page-sizes":[5,10,15,20],"page-size":e.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},l=[],r=(a(7658),{data(){return{isEdit:!1,input:"",userList:[],total:0,pageInfo:{pageIndex:1,pageSize:10},selectCourse:[]}},methods:{filterHandler(e,t,a){const s=a.property;return t[s]===e},getAllList(){this.axios.get("/api/getAll/TeacherInfo").then((e=>{const t=e.data.list,a=new Map,s=(e,t)=>{for(const s of e)a.has(s[t])||a.set(s[t],s);return[...a.values()]},l=s(t,"course");for(let r=0;r<l.length;r++)this.selectCourse.push({value:l[r].course,text:l[r].course})}))},getUserList(){this.axios.get("/api/getByPage/teacherInfo",{params:this.pageInfo}).then((e=>{this.userList=e.data.list,this.total=e.data.total}))},handleDelete(e){this.axios.post("/api/del/TeaInfo",{id:e}).then((e=>{e.data.total/10%1===0&&this.pageInfo.pageIndex===e.data.total/10+1&&(this.pageInfo.pageIndex=this.pageInfo.pageIndex-1,this.getUserList()),this.getUserList()}))},handleSizeChange(e){this.pageInfo.pageSize=e,this.getUserList()},handleCurrentChange(e){this.pageInfo.pageIndex=e,this.getUserList()}},created(){this.getAllList(),this.getUserList()}}),n=r,o=a(1001),i=(0,o.Z)(n,s,l,!1,null,null,null),u=i.exports}}]);
//# sourceMappingURL=154.9fd534de.js.map